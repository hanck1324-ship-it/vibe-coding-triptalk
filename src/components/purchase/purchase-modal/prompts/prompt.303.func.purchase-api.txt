아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

==============================================

조건-선행작업) prompt.301.func.modal-connect.txt와 prompt.302.func.point-check.txt가 먼저 완료되어야 합니다.

조건-파일경로) 수정할 파일 목록
            - src/components/purchase/detail/hook.ts (상세페이지 훅)
            - src/components/purchase/detail/index.tsx (상세페이지)
            - src/components/purchase/detail/styles.module.css (스타일)

==============================================

핵심요구사항) 포인트가 충분한 경우 구매 API를 호출하고 판매 등록 화면으로 이동할 것.

        1) 상세페이지 훅 수정 (src/components/purchase/detail/hook.ts)

            - useRouter 추가
              import { useRouter } from "next/navigation";
              const router = useRouter();

            - 에러 상태 관리 추가
              const [errorMessage, setErrorMessage] = useState("");

            - handlePurchaseConfirm 함수 수정
              * 기존 2단계 "포인트 충분" 부분을 실제 구현으로 교체

              수정 전:
              // 2단계: 포인트 충분 (다음 프롬프트에서 구현 예정)
              console.log("포인트 충분 - 구매 진행");
              setIsPurchaseModalOpen(false);

              수정 후:
              // 2단계: 포인트 충분 - API 호출
              try {
                // TODO: 실제 구매 API 호출
                // const response = await purchaseAccommodation({
                //   accommodationId: accommodation.id,
                //   price: accommodation.price,
                // });

                // 임시: API 성공 시뮬레이션
                console.log("구매 API 호출 예정:", {
                  accommodationId: accommodation?.id,
                  price: accommodation?.price,
                  userId: "user-id", // TODO: 실제 사용자 ID
                });

                // 모달 닫기
                setIsPurchaseModalOpen(false);

                // 3단계: 판매 등록 화면으로 이동
                router.push("/purchase/sell");

              } catch (error) {
                // 4단계: 에러 처리
                console.error("구매 실패:", error);
                setErrorMessage("구매 중 오류가 발생했습니다. 다시 시도해주세요.");
                setIsPurchaseModalOpen(false);
              }

            - return 값에 추가
              errorMessage

        2) 에러 메시지 표시 (src/components/purchase/detail/index.tsx)

            - 훅에서 errorMessage 가져오기
              const { ..., errorMessage } = usePurchaseDetail();

            - 에러 메시지 UI 추가
              * 위치: 구매 버튼 위
              * 코드:
                {errorMessage && (
                  <div className={styles.errorMessage}>
                    {errorMessage}
                  </div>
                )}

        3) 에러 메시지 스타일 (src/components/purchase/detail/styles.module.css)

            .errorMessage {
              padding: 12px;
              margin-bottom: 16px;
              background-color: #fff2f0;
              border: 1px solid #ffccc7;
              border-radius: 4px;
              color: #ff4d4f;
              font-size: 14px;
            }

        4) 구매 완료 플로우

            구매하기 버튼 클릭
                    ↓
            handlePurchaseConfirm 실행
                    ↓
            1단계: 포인트 체크
                    ↓
            포인트 충분 확인
                    ↓
            2단계: 구매 API 호출 (TODO)
                    ↓
            콘솔 로그 출력
                    ↓
            구매 모달 닫기
                    ↓
            3단계: /purchase/sell 이동
            (판매 등록 화면)

            만약 에러 발생 시:
                    ↓
            4단계: 에러 메시지 표시
                    ↓
            구매 모달 닫기
                    ↓
            페이지 이동 없음

        5) 테스트 체크리스트

            [포인트 충분 시 구매 진행]
            - [ ] 포인트가 충분한 경우 테스트했는가?
            - [ ] 콘솔에 "구매 API 호출 예정" 로그가 출력되는가?
            - [ ] 로그에 accommodationId, price, userId가 포함되는가?
            - [ ] 구매 모달이 자동으로 닫히는가?
            - [ ] /purchase/sell (판매 등록 화면)로 이동하는가?

            [라우팅 확인]
            - [ ] router.push("/purchase/sell")가 정상 실행되는가?
            - [ ] 판매 등록 화면이 정상적으로 로드되는가?
            - [ ] 브라우저 URL이 /purchase/sell로 변경되는가?

            [에러 처리]
            - [ ] try-catch 문이 올바르게 작성되었는가?
            - [ ] 에러 발생 시 에러 메시지가 표시되는가?
            - [ ] 에러 메시지 스타일이 올바르게 적용되는가?
            - [ ] 에러 발생 시 페이지 이동이 중단되는가?
            - [ ] 에러 발생 시에도 모달이 닫히는가?

            [전체 플로우 통합 테스트]
            - [ ] 상세페이지 → 구매 버튼 → 구매 모달 → 구매하기 → 판매 등록 화면 순서가 정상적으로 작동하는가?
            - [ ] 포인트 부족 시 PointAlertModal이 표시되고 프로세스가 중단되는가?
            - [ ] 포인트 충분 시 API 호출 및 라우팅이 정상적으로 작동하는가?

==============================================

참고사항)
1. 이 프롬프트는 구매 API 호출과 라우팅만 담당합니다.
2. 실제 구매 API는 TODO로 남겨두고, console.log로 시뮬레이션합니다.
3. API 호출 부분에 TODO 주석을 명확히 작성하여 나중에 쉽게 찾을 수 있도록 합니다.
4. 에러 처리는 기본적인 try-catch만 구현합니다.
5. 이 프롬프트 완료 후 전체 구매 기능이 완성됩니다.
