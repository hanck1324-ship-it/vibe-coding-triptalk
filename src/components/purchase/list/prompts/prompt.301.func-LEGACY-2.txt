아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

==============================================

조건-파일경로) 구현될 HOOK 파일경로: src/components/purchase/hook.ts
조건-파일경로) (참고) 기존 UI 파일: src/components/purchase/index.tsx (이미 구현됨)

==============================================

핵심요구사항) 숙박권 구매 페이지의 인터랙티브 기능을 step-by-step 으로 구현하고, 적용 결과를 체크리스트로 반환할 것.

        1) 라이브러리조건
            - 상태 관리: React의 useState, useMemo 훅 사용
            - 데이터 조회: @apollo/client의 useQuery 훅 사용
            - 라우팅: next/navigation의 useRouter 훅 사용
            - GraphQL 쿼리: fetchTravelproducts 쿼리 사용 (서버에서 여행 상품 목록 데이터 조회)
            
        1-1) GraphQL 쿼리 구현 항목
            - fetchTravelproducts 쿼리를 사용하여 서버에서 여행 상품 목록 데이터 조회
            - 검색어, 판매 완료 여부 등의 필터 조건을 쿼리 변수로 전달
            - mock 데이터 대신 실제 데이터베이스의 최신 정보 사용
            - 목록 페이지에 메모이제이션(useMemo) 적용하여 성능 최적화

        2) 기능 요구사항

            - 1. (HOOK) hook.ts 파일에 usePurchase 커스텀 훅 생성
                - "use client" 지시어 추가
                
                [GraphQL] 여행 상품 목록 조회 구현
                    - useQuery 훅으로 fetchTravelproducts 쿼리 실행
                    - 쿼리 변수 설정: search(검색어), isSoldout(판매 완료 여부)
                    - 탭 변경 시 refetch를 호출하여 서버에서 필터링된 데이터 재조회
                    - useMemo로 탭에 따른 필터링 결과 메모이제이션 적용
                    - 로딩 상태와 에러 상태 관리
                
                [A] 탭 전환 기능
                    - activeTab 상태 관리 ("available" | "closed")
                    - 초기값: "available" (예약 가능 숙소)
                    - onClickTab 함수: 탭 클릭 시 activeTab 변경
                
                [B] 검색 기능
                    - searchKeyword 상태 관리 (string)
                    - onChangeSearch 함수: 검색어 입력 핸들러
                    - onClickSearch 함수: GraphQL 쿼리 refetch를 통해 서버에서 검색 결과 조회
                
                [C] 날짜 필터
                    - dateRange 상태 관리 ({ startDate: string, endDate: string })
                    - onChangeDateRange 함수: 날짜 선택 핸들러
                    - 형식: "YYYY.MM.DD - YYYY.MM.DD"
                
                [D] 카테고리 필터
                    - selectedCategories 상태 관리 (string[])
                    - 카테고리 목록: ["1인 전용", "아파트", "호텔", "캠핑", "룸 서비스 가능", "불멍", "반신욕&스파", "바다 위 숙소", "플랜테리어"]
                    - onToggleCategory 함수: 카테고리 선택/해제 토글
                    - 중복 선택 가능
                
                [E] 북마크 기능
                    - bookmarkedIds 상태 관리 (number[])
                    - onToggleBookmark 함수: 북마크 추가/제거
                    - localStorage에 저장하여 새로고침 후에도 유지
                
                [F] 카드 클릭 이동
                    - onClickCard 함수: 숙박권 ID를 받아 상세 페이지로 이동
                    - 라우팅 경로: /purchase/[id]
                    - useRouter의 push 메서드 사용

            - 2. (UI 연동) index.tsx의 기존 UI 요소와 연결
                - data-testid="tab-available", "tab-closed" → onClickTab
                - data-testid="search-input" → onChange={onChangeSearch}, value={searchKeyword}
                - data-testid="search-button" → onClick={onClickSearch}
                - data-testid="category-*" → onClick={() => onToggleCategory(카테고리명)}
                - data-testid="accommodation-card-*" → onClick={() => onClickCard(id)}
                - 북마크 아이콘 → onClick={() => onToggleBookmark(id)}

        3) 상태 초기화 요구사항
            - useEffect를 사용하여 localStorage에서 bookmarkedIds 로드
            - 컴포넌트 마운트 시 초기 데이터 설정

        4) 테스트 체크리스트
            - [ ] 탭 클릭 시 activeTab이 변경되는가?
            - [ ] 검색어 입력 시 searchKeyword 상태가 업데이트되는가?
            - [ ] 검색 버튼 클릭 시 onClickSearch가 실행되는가?
            - [ ] 카테고리 클릭 시 선택/해제가 토글되는가?
            - [ ] 북마크 클릭 시 bookmarkedIds에 추가/제거되는가?
            - [ ] 북마크가 localStorage에 저장되는가?
            - [ ] 카드 클릭 시 상세 페이지로 이동하는가?
