# 프롬프트 재검증 룰 (Prompt Recheck Rules)

프롬프트 작성 후 제출 전에 반드시 체크해야 할 항목들입니다.

## ✅ 필수 체크리스트 (MUST CHECK)

### 📄 1. 파일 구조 체크

- [ ] 파일명이 `prompt.`로 시작하는가? (복수형 `prompts.` 금지)
- [ ] 파일 확장자가 `.txt`인가?
- [ ] prompts 폴더에 위치하는가? (`promts` 오타 아님)
- [ ] 번호가 올바른가? (01, 101, 201, 301, 401...)

### 📝 2. 헤더 체크

- [ ] "아래의 조건을 모두 적용하여..." 첫 줄이 있는가?
- [ ] "구현 결과를 체크리스트로 반환할 것" 두 번째 줄이 있는가?

### 🎯 3. 조건-커서룰 체크

- [ ] `조건-커서룰)` 섹션이 있는가?
- [ ] 적절한 커서룰이 명시되어 있는가?
  - wireframe: @01-common.mdc, @02-wireframe.mdc
  - ui: @01-common.mdc, @02-wireframe.mdc, @03-ui.mdc
  - func: @01-common.mdc, @04-func.mdc

### 📁 4. 조건-파일경로 체크

- [ ] TSX 파일 경로가 정확한가?
- [ ] CSS 파일 경로가 정확한가?
- [ ] 기능 프롬프트의 경우:
  - [ ] HOOK 파일 경로가 있는가?
  - [ ] GQL 파일 경로가 있는가?
  - [ ] 공통 GQL 타입 참조가 있는가?

### 🎨 5. 조건-피그마 체크 (UI가 있는 경우)

- [ ] MCP 채널이 명시되어 있는가?
- [ ] 노드 ID가 명시되어 있는가?
- [ ] **핵심 영역만** 적혀있는가? (세부 사항 과다 X)
- [ ] 노드 ID 형식이 올바른가? (285:31930 형식)

### 💡 6. 핵심요구사항 체크

- [ ] "step-by-step 으로 구현" 문구가 있는가?
- [ ] "적용 결과를 체크리스트로 반환" 문구가 있는가?
- [ ] 요구사항이 계층 구조로 정리되어 있는가?
  - 1) 큰 카테고리
    - 세부 항목
    - 세부 항목

---

## 🚫 금지 사항 체크 (FORBIDDEN)

### ❌ 1. 코드 예시가 없는가?

- [ ] TypeScript 코드 블록이 **없는가**?
- [ ] JSX/HTML 구조 예시가 **없는가**?
- [ ] 함수 구현 예시가 **없는가**?
- [ ] 변수 선언 예시가 **없는가**? (예: `const [state, setState] = useState()`)
- [ ] 반환값(return 값) 섹션이 **없는가**? (구현 세부사항이므로 불필요)

### ❌ 2. 강제 사항이 없는가?

- [ ] 특정 변수명을 강제하지 **않는가**?
- [ ] 특정 함수명을 강제하지 **않는가**?
- [ ] 구체적인 if문/for문 로직을 지시하지 **않는가**?

### ❌ 3. 과도한 세부 사항이 없는가?

- [ ] 피그마 노드의 모든 자식 요소를 나열하지 **않았는가**?
- [ ] 모든 픽셀 크기를 다 적지 **않았는가**?
- [ ] 모든 색상 코드를 다 나열하지 **않았는가**?

---

## 📋 단계별 특화 체크리스트

### 🔲 Wireframe 프롬프트 (01, 101)

- [ ] "와이어프레임 구조만" 문구가 명시되어 있는가?
- [ ] "flexbox만 사용, position: absolute 금지" 명시?
- [ ] "최소한의 스타일" 명시?
- [ ] "플레이스홀더 텍스트 사용" 명시?
- [ ] 레이아웃 구조가 나열되어 있는가?

### 🎨 UI 프롬프트 (201)

- [ ] 피그마 MCP 채널이 명시되어 있는가?
- [ ] 핵심 노드 ID가 명시되어 있는가? (5-10개 정도)
- [ ] "피그마 디자인 구현" 문구가 있는가?
- [ ] CSS Modules 사용 명시?
- [ ] Image, Icon 등 실제 컴포넌트 사용 명시?

### ⚙️ 기능 프롬프트 (301, 401, 501)

- [ ] GraphQL 쿼리/뮤테이션 구현 항목이 명시되어 있는가?
  - [ ] 사용할 쿼리명이 명확한가? (예: fetchTravelproducts, fetchTravelproduct)
  - [ ] 쿼리 변수가 명시되어 있는가?
  - [ ] 쿼리 사용 이유가 간략히 설명되어 있는가? (코드 없이)
- [ ] 라이브러리 조건이 명시되어 있는가?
  - [ ] useQuery/useMutation?
  - [ ] codegen 타입 사용?
  - [ ] useRouter/useParams?
- [ ] Hook 구현 요구사항?
- [ ] UI 연동 요구사항?
- [ ] 에러 처리 요구사항?
- [ ] 최적화 요구사항? (refetch, 캐싱, 메모이제이션 등)
- [ ] **반환값(return 값) 섹션이 없는가?** (불필요한 구현 세부사항)

#### ⚡ 성능 최적화 체크 (⚠️ 오버엔지니어링 주의!)

- [ ] **메모이제이션 언급 시**: 적용 기준이 명확한가?
  - [ ] useMemo: 복잡한 연산/배열 변환만?
  - [ ] useCallback: props 전달 함수/입력 핸들러만?
- [ ] **오버엔지니어링 방지**: "모든 함수에 useCallback" 같은 강제 사항이 **없는가**?
- [ ] **판단 기준 명시**: "성능 이득이 있을 때만" 같은 가이드라인이 있는가?

---

## 📏 길이 체크

### 적정 길이인가?

| 타입 | 최소 | 최적 | 최대 |
|------|------|------|------|
| wireframe | 30줄 | 40-60줄 | 80줄 |
| ui | 50줄 | 60-100줄 | 120줄 |
| func | 60줄 | 80-120줄 | 150줄 |

### 너무 긴 경우 (120줄 이상)

**원인 체크:**
- [ ] 코드 예시가 포함되어 있지 않은가?
- [ ] HTML 구조가 포함되어 있지 않은가?
- [ ] 과도하게 세세한 설명이 있지 않은가?
- [ ] 중복된 내용이 있지 않은가?

**해결 방법:**
1. 코드 예시 모두 제거
2. 요구사항만 남기기
3. 세부 사항 AI에게 위임
4. 중복 내용 통합

---

## 🎯 품질 체크 (QUALITY CHECK)

### 명확성 (Clarity)

- [ ] 요구사항이 구체적이고 명확한가?
- [ ] 모호한 표현이 없는가?
- [ ] 무엇을 만들어야 하는지 분명한가?

### 완전성 (Completeness)

- [ ] 필요한 모든 요구사항이 포함되어 있는가?
- [ ] 빠진 단계가 없는가?
- [ ] 에러 처리가 언급되어 있는가?

### 일관성 (Consistency)

- [ ] 다른 프롬프트와 동일한 형식인가?
- [ ] 들여쓰기가 일관적인가?
- [ ] 용어 사용이 일관적인가?

### 간결성 (Conciseness)

- [ ] 불필요한 설명이 없는가?
- [ ] 같은 내용을 반복하지 않는가?
- [ ] 핵심만 담겨있는가?

---

## 🔄 최종 검증 프로세스

### Step 1: 자가 점검
1. 위 모든 체크리스트 확인
2. 금지 사항 위반 여부 확인
3. 길이 적절성 확인

### Step 2: 비교 검증
1. 유사한 기존 프롬프트와 비교
2. 패턴 일치 여부 확인
3. 품질 수준 비교

### Step 3: 테스트 (선택)
1. AI에게 프롬프트 전달
2. 구현 결과 확인
3. 의도대로 구현되었는지 검증

---

## 📚 참고 문서

- `PROMPT_WRITING_PRINCIPLES.md` - 작성 원칙
- `HOW_TO_CREATE_PROMPTS.md` - 생성 가이드
- `PROMPTS_STRUCTURE.md` - 구조 설명

---

## ⚡ 빠른 체크 (Quick Check)

**4가지만 확인하세요:**

1. ✅ **코드 예시 없나?** (가장 중요!)
2. ✅ **파일 경로 정확한가?**
3. ✅ **"무엇을(What)"만 적혀있나?**
4. ✅ **반환값(return 값) 섹션이 없나?**

이 4가지만 OK면 85% 완성입니다!

---

## 🎓 좋은 프롬프트 예시

### 예시 1: purchase/detail/prompts/prompt.301.func.txt
- 길이: 56줄 ✅
- 코드 예시 없음 ✅
- GraphQL 쿼리 구현 항목 명확 ✅
- "무엇을" 구현할지만 명시 ✅
- 반환값 섹션 없음 ✅

### 예시 2: boards-detail/comment-write/prompts/prompt.301.func.txt
- 길이: 52줄 ✅
- GQL → Hook → UI 순서 명확 ✅
- 에러 처리 포함 ✅

### 예시 3: purchase/list/prompts/prompt.301.func.txt
- GraphQL 쿼리 사용 이유 간략히 설명 ✅
- 메모이제이션 적용 기준 명확 ✅
- 코드 예시 없이 요구사항만 ✅

---

## 🚨 피해야 할 안티패턴

### 안티패턴 1: 템플릿 제공
```txt
❌ 구현 예시:
    export const useExample = () => {
      const [data, setData] = useState("");
      return { data };
    };
```

### 안티패턴 2: HTML 구조 제공
```txt
❌ 구현 예시:
    <div className={styles.wrapper}>
      <div className={styles.content}>
        <p>내용</p>
      </div>
    </div>
```

### 안티패턴 3: 마이크로매니징
```txt
❌ onChange 핸들러는 다음과 같이 구현:
    - e.target.value를 가져와서
    - setWriter에 저장하고
    - if (e.target.value) setError("") 실행
```

---

## ✨ 올바른 프롬프트 작성법

### 올바른 예시 1: 요구사항 중심
```txt
✅ 작성자 입력 기능 구현
    - useState로 작성자 상태 관리
    - onChange 핸들러 구현
    - 입력 시 에러 메시지 초기화
```

### 올바른 예시 2: 기능 설명
```txt
✅ 댓글 작성 기능
    - createBoardComment 뮤테이션 실행
    - 필수값 검증 (writer, password, contents)
    - 성공 시 댓글 목록 refetch
    - 입력창 초기화
```

### 올바른 예시 3: GraphQL 쿼리 구현
```txt
✅ GraphQL 쿼리 구현
    - fetchTravelproduct 쿼리를 사용하여 서버에서 여행 상품 상세 데이터 조회
    - 상품 ID(travelproductId)를 쿼리 변수로 전달하여 해당 상품의 상세 정보 조회
    - fetchUserLoggedIn 쿼리를 사용하여 현재 로그인한 사용자의 포인트 정보 조회
    - mock 데이터 대신 실제 데이터베이스의 최신 정보 사용
    - 로딩 상태와 에러 상태 관리하여 사용자에게 적절한 피드백 제공
```

---

## 🎯 최종 검증 질문

프롬프트를 제출하기 전에 스스로에게 물어보세요:

1. **"이 프롬프트로 AI가 무엇을 만들어야 하는지 명확한가?"**
2. **"코드 예시 없이도 충분히 이해할 수 있는가?"**
3. **"AI가 자율적으로 최적의 방법을 선택할 수 있는가?"**
4. **"반환값(return 값) 같은 구현 세부사항이 포함되지 않았는가?"**

**4개 모두 YES → 제출 OK! ✅**
**하나라도 NO → 수정 필요! ⚠️**













